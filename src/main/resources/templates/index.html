<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>MediTech</title>
        <link rel="stylesheet"
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css">
        <link rel="stylesheet"
            href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">
        <script
            src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js"></script>
    </head>
    <body
        style="background: linear-gradient(to right, #e0f7fa, #ffffff); min-height: 100vh;">
        <div th:replace="fragments/navbar/navbar :: navbar"></div>

        <div class="container my-5">
            <h2 class="text-center mb-4 fw-bold text-primary">MediTech - Sistema
                de Gestión Hospitalaria</h2>
            <div class="row row-cols-1 row-cols-md-3 g-4">

                <div class="col">
                    <div
                        class="card h-100 shadow-lg text-center border-0 rounded-4 hover-shadow">
                        <div class="card-body">
                            <i
                                class="bi bi-people-fill display-4 text-primary"></i>
                            <h5 class="card-title mt-3">Pacientes</h5>
                            <p class="card-text">Gestión de pacientes, registro
                                y seguimiento.</p>
                            <a href="/pacientes_index"
                                class="btn btn-outline-primary rounded-pill px-4">Ingresar</a>
                        </div>
                    </div>
                </div>

                <div class="col">
                    <div
                        class="card h-100 shadow-lg text-center border-0 rounded-4 hover-shadow">
                        <div class="card-body">
                            <i
                                class="bi bi-calendar-check-fill display-4 text-success"></i>
                            <h5 class="card-title mt-3">Citas</h5>
                            <p class="card-text">Gestión de turnos, programación
                                y control.</p>
                            <a href="/citas_index"
                                class="btn btn-outline-success rounded-pill px-4">Ingresar</a>
                        </div>
                    </div>
                </div>

                <div class="col">
                    <div
                        class="card h-100 shadow-lg text-center border-0 rounded-4 hover-shadow">
                        <div class="card-body">
                            <i
                                class="bi bi-journal-medical display-4 text-danger"></i>
                            <h5 class="card-title mt-3">Historial Médico</h5>
                            <p class="card-text">Consultas de historial clínico
                                y reportes.</p>
                            <a href="/historial_index"
                                class="btn btn-outline-danger rounded-pill px-4">Ingresar</a>
                        </div>
                    </div>
                </div>

                <div class="col">
                    <div
                        class="card h-100 shadow-lg text-center border-0 rounded-4 hover-shadow">
                        <div class="card-body">
                            <i
                                class="bi bi-arrow-left-right display-4 text-warning"></i>
                            <h5 class="card-title mt-3">Traslados</h5>
                            <p class="card-text">Control y seguimiento de
                                traslados internos.</p>
                            <a href="/traslados_index"
                                class="btn btn-outline-warning rounded-pill px-4">Ingresar</a>
                        </div>
                    </div>
                </div>

                <div class="col">
                    <div
                        class="card h-100 shadow-lg text-center border-0 rounded-4 hover-shadow">
                        <div class="card-body">
                            <i
                                class="bi bi-person-badge-fill display-4 text-info"></i>
                            <h5 class="card-title mt-3">Médicos</h5>
                            <p class="card-text">Registro de médicos y
                                especialidades.</p>
                            <a href="/medicos_index"
                                class="btn btn-outline-info rounded-pill px-4">Ingresar</a>
                        </div>
                    </div>
                </div>

                <div class="col">
                    <div
                        class="card h-100 shadow-lg text-center border-0 rounded-4 hover-shadow">
                        <div class="card-body">
                            <i
                                class="bi bi-people-fill display-4 text-secondary"></i>
                            <h5 class="card-title mt-3">Colaboradores</h5>
                            <p class="card-text">Administración de
                                colaboradores, creación o modificación.</p>
                            <a href="/colaboradores_index"
                                class="btn btn-outline-secondary rounded-pill px-4">Ingresar</a>
                        </div>
                    </div>
                </div>

                <div class="col-md-12">
                    <div
                        class="card h-100 shadow-lg text-center border-0 rounded-4 hover-shadow">
                        <div class="card-body">
                            <i
                                class="bi bi-clipboard2-pulse-fill display-4 text-danger-emphasis"></i>
                            <h5 class="card-title mt-3">Atender Paciente</h5>
                            <p class="card-text">Atención de
                                pacientes.</p>
                            <a href="#"
                                class="btn btn-outline-dark rounded-pill px-4">Ingresar</a>
                        </div>
                    </div>
                </div>

            </div>
        </div>
        <hr>
        <div class="row">
            <div class="col text-center mb-4">
                <canvas id="myChart" width="400" height="300"
                    style="max-width: 400px; margin: 0 auto;"></canvas>
            </div>
            <div class="col text-center mb-4">
                <canvas id="myChart2" width="500" height="370"
                    style="max-width: 500px; margin: 0 auto;"></canvas>
            </div>
        </div>
    </body>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
        var xValues = ["Críticos", "Graves", "Urgentes", "Estables", "Observación"];
        var yValues = [12, 19, 8, 25, 6];
        var barColors = ["#d9534f", "#f0ad4e", "#5bc0de", "#5cb85c", "#292b2c"];

        new Chart("myChart", {
            type: "pie",
            data: {
                labels: xValues,
                datasets: [{
                    backgroundColor: barColors,
                    data: yValues
                }]
            },
            options: {
                plugins: {
                    title: {
                        display: true,
                        text: "Pacientes Internados por Estado (" + new Date().toLocaleDateString() + ") - Cantidad de Pacientes: " + yValues.reduce((a, b) => a + b, 0)
                    }
                }
            }
        });
        

        var services = ["Consulta Externa", "Emergencias", "Farmacia", "Laboratorio", "Pediatría"];
        var patientsCount = [25, 15, 30, 10, 20];
        var colors = ["#4e73df", "#1cc88a", "#36b9cc", "#f6c23e", "#e74a3b"];

        new Chart("myChart2", {
            type: "bar",
            data: {
                labels: services,
                datasets: [{
                    label: "Cantidad de Pacientes",
                    data: patientsCount,
                    backgroundColor: colors,
                    borderRadius: 8,
                    barThickness: 25
                }]
            },
            options: {
                indexAxis: 'y',
                plugins: {
                    title: {
                        display: true,
                        text: "Cantidad de Pacientes por Servicios"
                    },
                    legend: {
                        display: false
                    }
                },
                scales: {
                    x: {
                        beginAtZero: true,
                        ticks: {
                            stepSize: 5
                        }
                    }
                }
            }
        });

    </script>
</html>